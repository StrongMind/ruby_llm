---
http_interactions:
- request:
    method: post
    uri: https://api.anthropic.com/v1/messages
    body:
      encoding: UTF-8
      string: '{"model":"claude-3-5-haiku-20241022","messages":[{"role":"user","content":[{"type":"text","text":"<MASSIVE_TEXT_FOR_PROMPT_CACHING>\n\nBased
        on the above, tell me about Ruby","cache_control":{"type":"ephemeral"}}]}],"stream":false,"max_tokens":8192,"tools":[{"name":"describe_ruby_dev","description":"<MASSIVE_TEXT_FOR_PROMPT_CACHING>","input_schema":{"type":"object","properties":{},"required":[]},"cache_control":{"type":"ephemeral"}}],"system":[{"type":"text","text":"<MASSIVE_TEXT_FOR_PROMPT_CACHING>","cache_control":{"type":"ephemeral"}}],"temperature":0.7}'
    headers:
      User-Agent:
      - Faraday v2.13.1
      X-Api-Key:
      - "<ANTHROPIC_API_KEY>"
      Anthropic-Version:
      - '2023-06-01'
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 14 Aug 2025 16:23:09 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Anthropic-Ratelimit-Input-Tokens-Limit:
      - '400000'
      Anthropic-Ratelimit-Input-Tokens-Remaining:
      - '398000'
      Anthropic-Ratelimit-Input-Tokens-Reset:
      - '2025-08-14T16:23:08Z'
      Anthropic-Ratelimit-Output-Tokens-Limit:
      - '80000'
      Anthropic-Ratelimit-Output-Tokens-Remaining:
      - '80000'
      Anthropic-Ratelimit-Output-Tokens-Reset:
      - '2025-08-14T16:23:09Z'
      Anthropic-Ratelimit-Requests-Limit:
      - '4000'
      Anthropic-Ratelimit-Requests-Remaining:
      - '3999'
      Anthropic-Ratelimit-Requests-Reset:
      - '2025-08-14T16:23:07Z'
      Anthropic-Ratelimit-Tokens-Limit:
      - '480000'
      Anthropic-Ratelimit-Tokens-Remaining:
      - '478000'
      Anthropic-Ratelimit-Tokens-Reset:
      - '2025-08-14T16:23:08Z'
      Request-Id:
      - "<REQUEST_ID>"
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Anthropic-Organization-Id:
      - "<ANTHROPIC_ORGANIZATION_ID>"
      Via:
      - 1.1 google
      Cf-Cache-Status:
      - DYNAMIC
      X-Robots-Tag:
      - none
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: ASCII-8BIT
      string: '{"id":"msg_01BDTerm8ELpf9Lh3a8v8bh1","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"I''ll
        help you get information about Ruby development by using the available tool."},{"type":"tool_use","id":"toolu_01NSq4nB43eJJUAMzoB9DQWv","name":"describe_ruby_dev","input":{}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":8514,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":8514,"ephemeral_1h_input_tokens":0},"output_tokens":54,"service_tier":"standard"}}'
  recorded_at: Thu, 14 Aug 2025 16:23:09 GMT
- request:
    method: post
    uri: https://api.anthropic.com/v1/messages
    body:
      encoding: UTF-8
      string: '{"model":"claude-3-5-haiku-20241022","messages":[{"role":"user","content":[{"type":"text","text":"<MASSIVE_TEXT_FOR_PROMPT_CACHING>\n\nBased
        on the above, tell me about Ruby"}]},{"role":"assistant","content":[{"type":"text","text":"I''ll
        help you get information about Ruby development by using the available tool."},{"type":"tool_use","id":"toolu_01NSq4nB43eJJUAMzoB9DQWv","name":"describe_ruby_dev","input":{}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_01NSq4nB43eJJUAMzoB9DQWv","content":"Ruby
        is a great language for building web applications."}]}],"stream":false,"max_tokens":8192,"tools":[{"name":"describe_ruby_dev","description":"<MASSIVE_TEXT_FOR_PROMPT_CACHING>","input_schema":{"type":"object","properties":{},"required":[]},"cache_control":{"type":"ephemeral"}}],"system":[{"type":"text","text":"<MASSIVE_TEXT_FOR_PROMPT_CACHING>","cache_control":{"type":"ephemeral"}}],"temperature":0.7}'
    headers:
      User-Agent:
      - Faraday v2.13.1
      X-Api-Key:
      - "<ANTHROPIC_API_KEY>"
      Anthropic-Version:
      - '2023-06-01'
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 14 Aug 2025 16:23:15 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Anthropic-Ratelimit-Input-Tokens-Limit:
      - '400000'
      Anthropic-Ratelimit-Input-Tokens-Remaining:
      - '395000'
      Anthropic-Ratelimit-Input-Tokens-Reset:
      - '2025-08-14T16:23:11Z'
      Anthropic-Ratelimit-Output-Tokens-Limit:
      - '80000'
      Anthropic-Ratelimit-Output-Tokens-Remaining:
      - '80000'
      Anthropic-Ratelimit-Output-Tokens-Reset:
      - '2025-08-14T16:23:15Z'
      Anthropic-Ratelimit-Requests-Limit:
      - '4000'
      Anthropic-Ratelimit-Requests-Remaining:
      - '3999'
      Anthropic-Ratelimit-Requests-Reset:
      - '2025-08-14T16:23:09Z'
      Anthropic-Ratelimit-Tokens-Limit:
      - '480000'
      Anthropic-Ratelimit-Tokens-Remaining:
      - '475000'
      Anthropic-Ratelimit-Tokens-Reset:
      - '2025-08-14T16:23:11Z'
      Request-Id:
      - "<REQUEST_ID>"
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Anthropic-Organization-Id:
      - "<ANTHROPIC_ORGANIZATION_ID>"
      Via:
      - 1.1 google
      Cf-Cache-Status:
      - DYNAMIC
      X-Robots-Tag:
      - none
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: ASCII-8BIT
      string: '{"id":"msg_01JfsgKwnpUj5jL89fSETwdE","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"Ruby
        is a dynamic, object-oriented programming language known for its simplicity
        and readability. Here are some key points about Ruby:\n\n1. Created by Yukihiro
        Matsumoto (often called \"Matz\") in 1995\n2. Designed to be programmer-friendly
        with a focus on human-readable syntax\n3. Particularly popular for web development,
        especially with the Ruby on Rails framework\n4. Supports multiple programming
        paradigms, including object-oriented, functional, and imperative programming\n5.
        Known for its elegant and concise code\n6. Has a strong standard library and
        a vibrant ecosystem of gems (libraries)\n7. Commonly used for:\n   - Web development\n   -
        Scripting\n   - Automation\n   - Prototyping\n   - DevOps tools\n\nSome popular
        frameworks and tools in the Ruby ecosystem include:\n- Ruby on Rails (web
        application framework)\n- Sinatra (lightweight web framework)\n- RSpec (testing
        framework)\n- Bundler (dependency management)\n- Rake (build automation)\n\nRuby
        emphasizes the principle of \"developer happiness\" and follows the philosophy
        that there should be more than one way to do something, giving developers
        flexibility in their coding approach."}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":2953,"cache_creation_input_tokens":0,"cache_read_input_tokens":5639,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":0},"output_tokens":271,"service_tier":"standard"}}'
  recorded_at: Thu, 14 Aug 2025 16:23:15 GMT
recorded_with: VCR 6.3.1
