---
http_interactions:
- request:
    method: post
    uri: https://api.anthropic.com/v1/messages
    body:
      encoding: UTF-8
      string: '{"model":"claude-3-5-haiku-20241022","messages":[{"role":"user","content":[{"type":"text","text":"Tell
        me about Ruby"}]}],"stream":false,"max_tokens":8192,"tools":[{"name":"describe_ruby_dev","description":"<MASSIVE_TEXT_FOR_PROMPT_CACHING>","input_schema":{"type":"object","properties":{},"required":[]},"cache_control":{"type":"ephemeral"}}],"temperature":0.7}'
    headers:
      User-Agent:
      - Faraday v2.13.1
      X-Api-Key:
      - "<ANTHROPIC_API_KEY>"
      Anthropic-Version:
      - '2023-06-01'
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 14 Aug 2025 16:47:14 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Anthropic-Ratelimit-Input-Tokens-Limit:
      - '400000'
      Anthropic-Ratelimit-Input-Tokens-Remaining:
      - '399000'
      Anthropic-Ratelimit-Input-Tokens-Reset:
      - '2025-08-14T16:47:14Z'
      Anthropic-Ratelimit-Output-Tokens-Limit:
      - '80000'
      Anthropic-Ratelimit-Output-Tokens-Remaining:
      - '80000'
      Anthropic-Ratelimit-Output-Tokens-Reset:
      - '2025-08-14T16:47:14Z'
      Anthropic-Ratelimit-Requests-Limit:
      - '4000'
      Anthropic-Ratelimit-Requests-Remaining:
      - '3999'
      Anthropic-Ratelimit-Requests-Reset:
      - '2025-08-14T16:47:13Z'
      Anthropic-Ratelimit-Tokens-Limit:
      - '480000'
      Anthropic-Ratelimit-Tokens-Remaining:
      - '479000'
      Anthropic-Ratelimit-Tokens-Reset:
      - '2025-08-14T16:47:14Z'
      Request-Id:
      - "<REQUEST_ID>"
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Anthropic-Organization-Id:
      - "<ANTHROPIC_ORGANIZATION_ID>"
      Via:
      - 1.1 google
      Cf-Cache-Status:
      - DYNAMIC
      X-Robots-Tag:
      - none
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: ASCII-8BIT
      string: '{"id":"msg_01LVwUdFoKF4qiMoy8zpbt6k","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"I''ll
        use the describe_ruby_dev function to get information about Ruby for you."},{"type":"tool_use","id":"toolu_01J9F7Xi77jPzDXuGwkQEv5Q","name":"describe_ruby_dev","input":{}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":145,"cache_creation_input_tokens":2902,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":2902,"ephemeral_1h_input_tokens":0},"output_tokens":57,"service_tier":"standard"}}'
  recorded_at: Thu, 14 Aug 2025 16:47:14 GMT
- request:
    method: post
    uri: https://api.anthropic.com/v1/messages
    body:
      encoding: UTF-8
      string: '{"model":"claude-3-5-haiku-20241022","messages":[{"role":"user","content":[{"type":"text","text":"Tell
        me about Ruby"}]},{"role":"assistant","content":[{"type":"text","text":"I''ll
        use the describe_ruby_dev function to get information about Ruby for you."},{"type":"tool_use","id":"toolu_01J9F7Xi77jPzDXuGwkQEv5Q","name":"describe_ruby_dev","input":{}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_01J9F7Xi77jPzDXuGwkQEv5Q","content":"Ruby
        is a great language for building web applications."}]}],"stream":false,"max_tokens":8192,"tools":[{"name":"describe_ruby_dev","description":"<MASSIVE_TEXT_FOR_PROMPT_CACHING>","input_schema":{"type":"object","properties":{},"required":[]},"cache_control":{"type":"ephemeral"}}],"temperature":0.7}'
    headers:
      User-Agent:
      - Faraday v2.13.1
      X-Api-Key:
      - "<ANTHROPIC_API_KEY>"
      Anthropic-Version:
      - '2023-06-01'
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 14 Aug 2025 16:47:22 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Anthropic-Ratelimit-Input-Tokens-Limit:
      - '400000'
      Anthropic-Ratelimit-Input-Tokens-Remaining:
      - '399000'
      Anthropic-Ratelimit-Input-Tokens-Reset:
      - '2025-08-14T16:47:15Z'
      Anthropic-Ratelimit-Output-Tokens-Limit:
      - '80000'
      Anthropic-Ratelimit-Output-Tokens-Remaining:
      - '80000'
      Anthropic-Ratelimit-Output-Tokens-Reset:
      - '2025-08-14T16:47:22Z'
      Anthropic-Ratelimit-Requests-Limit:
      - '4000'
      Anthropic-Ratelimit-Requests-Remaining:
      - '3999'
      Anthropic-Ratelimit-Requests-Reset:
      - '2025-08-14T16:47:15Z'
      Anthropic-Ratelimit-Tokens-Limit:
      - '480000'
      Anthropic-Ratelimit-Tokens-Remaining:
      - '479000'
      Anthropic-Ratelimit-Tokens-Reset:
      - '2025-08-14T16:47:15Z'
      Request-Id:
      - "<REQUEST_ID>"
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Anthropic-Organization-Id:
      - "<ANTHROPIC_ORGANIZATION_ID>"
      Via:
      - 1.1 google
      Cf-Cache-Status:
      - DYNAMIC
      X-Robots-Tag:
      - none
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: ASCII-8BIT
      string: '{"id":"msg_01PDSjZj6jjLSLWwRrU9gX2i","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"Let
        me provide you with more comprehensive information about Ruby:\n\nRuby is
        a dynamic, object-oriented programming language created by Yukihiro Matsumoto
        (often called \"Matz\") in Japan during the mid-1990s. Here are some key characteristics:\n\n1.
        Design Philosophy:\n- Designed to be programmer-friendly and productive\n-
        Follows the principle of \"developer happiness\" and \"least surprise\"\n-
        Emphasizes natural and readable syntax\n\n2. Key Features:\n- Fully object-oriented:
        Everything in Ruby is an object\n- Dynamic typing\n- Supports functional programming
        paradigms\n- Automatic memory management (garbage collection)\n- Extensive
        standard library\n- Strong metaprogramming capabilities\n\n3. Popular Use
        Cases:\n- Web development (especially with Ruby on Rails framework)\n- Scripting
        and automation\n- DevOps tools\n- Prototyping\n- Backend web services\n\n4.
        Notable Frameworks and Tools:\n- Ruby on Rails (web application framework)\n-
        Sinatra (lightweight web framework)\n- RSpec (testing framework)\n- Bundler
        (dependency management)\n\n5. Community and Ecosystem:\n- Active and supportive
        open-source community\n- Extensive collection of libraries (called \"gems\")\n-
        Regular language updates and improvements\n\nRuby is particularly loved by
        developers for its elegant syntax, flexibility, and focus on developer productivity.
        While it may not be as widely used as some other languages, it remains a powerful
        and enjoyable language to work with, especially in web development and scripting
        domains."}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":222,"cache_creation_input_tokens":0,"cache_read_input_tokens":2902,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":0},"output_tokens":338,"service_tier":"standard"}}'
  recorded_at: Thu, 14 Aug 2025 16:47:22 GMT
recorded_with: VCR 6.3.1
