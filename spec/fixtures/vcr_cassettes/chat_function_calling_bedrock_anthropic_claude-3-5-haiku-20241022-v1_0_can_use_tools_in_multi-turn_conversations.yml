---
http_interactions:
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        the weather in Berlin? (52.5200, 13.4050)"}]}],"max_tokens":4096,"tools":[{"name":"weather","description":"Gets
        current weather for a location","input_schema":{"type":"object","properties":{"latitude":{"type":"string","description":"Latitude
        (e.g., 52.5200)"},"longitude":{"type":"string","description":"Longitude (e.g.,
        13.4050)"}},"required":["latitude","longitude"]}}],"temperature":0.7}'
    headers:
      User-Agent:
      - Faraday v2.13.3
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20250730T143922Z
      X-Amz-Content-Sha256:
      - aed108c475b1cf6bebe7010a536a6258fb81bf18b3526b25751d277f98469ac0
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250730/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=be98c851ce4f25c04fa86c762128a4312ac0d22e2309f534898ba137011ac0e0
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 30 Jul 2025 14:39:24 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '514'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 849b03d3-73d4-41a8-a8eb-4986b7938629
      X-Amzn-Bedrock-Invocation-Latency:
      - '1629'
      X-Amzn-Bedrock-Output-Token-Count:
      - '88'
      X-Amzn-Bedrock-Input-Token-Count:
      - '389'
    body:
      encoding: UTF-8
      string: '{"id":"msg_bdrk_01LJxUBvkwGvNNX3dpfEd4KW","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"Let
        me check the current weather for Berlin using the provided coordinates."},{"type":"tool_use","id":"toolu_bdrk_01Pjvd4d6nhfu96xBsEB9Bir","name":"weather","input":{"latitude":"52.5200","longitude":"13.4050"}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":389,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":88}}'
  recorded_at: Wed, 30 Jul 2025 14:39:24 GMT
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        the weather in Berlin? (52.5200, 13.4050)"}]},{"role":"assistant","content":[{"type":"text","text":"Let
        me check the current weather for Berlin using the provided coordinates."},{"type":"tool_use","id":"toolu_bdrk_01Pjvd4d6nhfu96xBsEB9Bir","name":"weather","input":{"latitude":"52.5200","longitude":"13.4050"}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_bdrk_01Pjvd4d6nhfu96xBsEB9Bir","content":"Current
        weather at 52.5200, 13.4050: 15°C, Wind: 10 km/h"}]}],"max_tokens":4096,"tools":[{"name":"weather","description":"Gets
        current weather for a location","input_schema":{"type":"object","properties":{"latitude":{"type":"string","description":"Latitude
        (e.g., 52.5200)"},"longitude":{"type":"string","description":"Longitude (e.g.,
        13.4050)"}},"required":["latitude","longitude"]}}],"temperature":0.7}'
    headers:
      User-Agent:
      - Faraday v2.13.3
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20250730T143924Z
      X-Amz-Content-Sha256:
      - bc5ac2f570732cb40190b33e9dfb44babe9061c8223b271ee89e90ae8ca1fdf7
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250730/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=d4bb70b926135b909346dd026452a340e17bf096fb271f2bb2ed6945c76b173b
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 30 Jul 2025 14:39:26 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '478'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 646ef7b2-7186-4ad1-b5d7-7950e86e87d6
      X-Amzn-Bedrock-Invocation-Latency:
      - '1144'
      X-Amzn-Bedrock-Output-Token-Count:
      - '48'
      X-Amzn-Bedrock-Input-Token-Count:
      - '516'
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        eyJpZCI6Im1zZ19iZHJrXzAxSEprR2Rpd0tWc01EdVZoR0VveVJuRiIsInR5cGUiOiJtZXNzYWdlIiwicm9sZSI6ImFzc2lzdGFudCIsIm1vZGVsIjoiY2xhdWRlLTMtNS1oYWlrdS0yMDI0MTAyMiIsImNvbnRlbnQiOlt7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IlRoZSBjdXJyZW50IHdlYXRoZXIgaW4gQmVybGluIGlzIDE1wrBDIHdpdGggYSB3aW5kIHNwZWVkIG9mIDEwIGttL2guIEl0IHNlZW1zIGxpa2UgYSBtaWxkIGRheSBpbiB0aGUgR2VybWFuIGNhcGl0YWwuIFdvdWxkIHlvdSBsaWtlIHRvIGtub3cgYW55dGhpbmcgZWxzZSBhYm91dCB0aGUgd2VhdGhlcj8ifV0sInN0b3BfcmVhc29uIjoiZW5kX3R1cm4iLCJzdG9wX3NlcXVlbmNlIjpudWxsLCJ1c2FnZSI6eyJpbnB1dF90b2tlbnMiOjUxNiwiY2FjaGVfY3JlYXRpb25faW5wdXRfdG9rZW5zIjowLCJjYWNoZV9yZWFkX2lucHV0X3Rva2VucyI6MCwib3V0cHV0X3Rva2VucyI6NDh9fQ==
  recorded_at: Wed, 30 Jul 2025 14:39:26 GMT
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        the weather in Berlin? (52.5200, 13.4050)"}]},{"role":"assistant","content":[{"type":"text","text":"Let
        me check the current weather for Berlin using the provided coordinates."},{"type":"tool_use","id":"toolu_bdrk_01Pjvd4d6nhfu96xBsEB9Bir","name":"weather","input":{"latitude":"52.5200","longitude":"13.4050"}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_bdrk_01Pjvd4d6nhfu96xBsEB9Bir","content":"Current
        weather at 52.5200, 13.4050: 15°C, Wind: 10 km/h"}]},{"role":"assistant","content":[{"type":"text","text":"The
        current weather in Berlin is 15°C with a wind speed of 10 km/h. It seems like
        a mild day in the German capital. Would you like to know anything else about
        the weather?"}]},{"role":"user","content":[{"type":"text","text":"What''s
        the weather in Paris? (48.8575, 2.3514)"}]}],"max_tokens":4096,"tools":[{"name":"weather","description":"Gets
        current weather for a location","input_schema":{"type":"object","properties":{"latitude":{"type":"string","description":"Latitude
        (e.g., 52.5200)"},"longitude":{"type":"string","description":"Longitude (e.g.,
        13.4050)"}},"required":["latitude","longitude"]}}],"temperature":0.7}'
    headers:
      User-Agent:
      - Faraday v2.13.3
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20250730T143926Z
      X-Amz-Content-Sha256:
      - d9ba91c97c3e4fc4cc9d70e630df880b92d0696113e9ca58362c890c8bec6d75
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250730/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=64d1e7ae1a110a77fc0c3dcdbc71d14d23d8babc3edf12ef576105d7e54907ca
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 30 Jul 2025 14:39:28 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '510'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 16bf009d-1984-4507-a90f-1595d75b3dcd
      X-Amzn-Bedrock-Invocation-Latency:
      - '1485'
      X-Amzn-Bedrock-Output-Token-Count:
      - '88'
      X-Amzn-Bedrock-Input-Token-Count:
      - '586'
    body:
      encoding: UTF-8
      string: '{"id":"msg_bdrk_018uPTZ1wWrxPMpU5YZtsdnY","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"I''ll
        check the current weather for Paris using the provided coordinates."},{"type":"tool_use","id":"toolu_bdrk_01QcZDCmCokWGrdhoRP2cQWm","name":"weather","input":{"latitude":"48.8575","longitude":"2.3514"}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":586,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":88}}'
  recorded_at: Wed, 30 Jul 2025 14:39:28 GMT
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        the weather in Berlin? (52.5200, 13.4050)"}]},{"role":"assistant","content":[{"type":"text","text":"Let
        me check the current weather for Berlin using the provided coordinates."},{"type":"tool_use","id":"toolu_bdrk_01Pjvd4d6nhfu96xBsEB9Bir","name":"weather","input":{"latitude":"52.5200","longitude":"13.4050"}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_bdrk_01Pjvd4d6nhfu96xBsEB9Bir","content":"Current
        weather at 52.5200, 13.4050: 15°C, Wind: 10 km/h"}]},{"role":"assistant","content":[{"type":"text","text":"The
        current weather in Berlin is 15°C with a wind speed of 10 km/h. It seems like
        a mild day in the German capital. Would you like to know anything else about
        the weather?"}]},{"role":"user","content":[{"type":"text","text":"What''s
        the weather in Paris? (48.8575, 2.3514)"}]},{"role":"assistant","content":[{"type":"text","text":"I''ll
        check the current weather for Paris using the provided coordinates."},{"type":"tool_use","id":"toolu_bdrk_01QcZDCmCokWGrdhoRP2cQWm","name":"weather","input":{"latitude":"48.8575","longitude":"2.3514"}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_bdrk_01QcZDCmCokWGrdhoRP2cQWm","content":"Current
        weather at 48.8575, 2.3514: 15°C, Wind: 10 km/h"}]}],"max_tokens":4096,"tools":[{"name":"weather","description":"Gets
        current weather for a location","input_schema":{"type":"object","properties":{"latitude":{"type":"string","description":"Latitude
        (e.g., 52.5200)"},"longitude":{"type":"string","description":"Longitude (e.g.,
        13.4050)"}},"required":["latitude","longitude"]}}],"temperature":0.7}'
    headers:
      User-Agent:
      - Faraday v2.13.3
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20250730T143928Z
      X-Amz-Content-Sha256:
      - 36856bd5aec135be155bafc96d161c5aacf52332751b9106a2568fee000c6004
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250730/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=60cf60106fc5a598a044234105760458e032a2762c5b9c0e3b960c125a9d0f8a
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 30 Jul 2025 14:39:30 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '503'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 15314328-fee0-4d2d-bb69-7134cc591733
      X-Amzn-Bedrock-Invocation-Latency:
      - '1069'
      X-Amzn-Bedrock-Output-Token-Count:
      - '56'
      X-Amzn-Bedrock-Input-Token-Count:
      - '713'
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        eyJpZCI6Im1zZ19iZHJrXzAxTDhaTUJMcE5ZZGVWOGpGN1g1cVp1ZCIsInR5cGUiOiJtZXNzYWdlIiwicm9sZSI6ImFzc2lzdGFudCIsIm1vZGVsIjoiY2xhdWRlLTMtNS1oYWlrdS0yMDI0MTAyMiIsImNvbnRlbnQiOlt7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IlRoZSBjdXJyZW50IHdlYXRoZXIgaW4gUGFyaXMgaXMgMTXCsEMgd2l0aCBhIHdpbmQgc3BlZWQgb2YgMTAga20vaC4gSW50ZXJlc3RpbmdseSwgaXQncyB2ZXJ5IHNpbWlsYXIgdG8gdGhlIHdlYXRoZXIgaW4gQmVybGluIHJpZ2h0IG5vdy4gSXMgdGhlcmUgYW55dGhpbmcgZWxzZSB5b3UnZCBsaWtlIHRvIGtub3cgYWJvdXQgdGhlIHdlYXRoZXI/In1dLCJzdG9wX3JlYXNvbiI6ImVuZF90dXJuIiwic3RvcF9zZXF1ZW5jZSI6bnVsbCwidXNhZ2UiOnsiaW5wdXRfdG9rZW5zIjo3MTMsImNhY2hlX2NyZWF0aW9uX2lucHV0X3Rva2VucyI6MCwiY2FjaGVfcmVhZF9pbnB1dF90b2tlbnMiOjAsIm91dHB1dF90b2tlbnMiOjU2fX0=
  recorded_at: Wed, 30 Jul 2025 14:39:30 GMT
recorded_with: VCR 6.3.1
