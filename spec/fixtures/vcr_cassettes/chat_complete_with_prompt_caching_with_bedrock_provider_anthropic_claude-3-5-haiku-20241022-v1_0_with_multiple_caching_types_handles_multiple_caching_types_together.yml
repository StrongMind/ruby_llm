---
http_interactions:
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":[{"type":"text","text":"<MASSIVE_TEXT_FOR_PROMPT_CACHING>\n\nBased
        on the above, tell me about Ruby","cache_control":{"type":"ephemeral"}}]}],"max_tokens":4096,"tools":[{"name":"describe_ruby_dev","description":"<MASSIVE_TEXT_FOR_PROMPT_CACHING>","input_schema":{"type":"object","properties":{},"required":[]},"cache_control":{"type":"ephemeral"}}],"system":[{"type":"text","text":"<MASSIVE_TEXT_FOR_PROMPT_CACHING>","cache_control":{"type":"ephemeral"}}],"temperature":0.7}'
    headers:
      User-Agent:
      - Faraday v2.13.1
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20250814T163033Z
      X-Amz-Security-Token:
      - "<AWS_SESSION_TOKEN>"
      X-Amz-Content-Sha256:
      - 6c0e81fe3d33cff0f11ffa88ea3dfeaa4417e7c89c536f0633fd312f9aa886ff
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250814/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date;x-amz-security-token, Signature=3cb53bf7294051dbd7f988c48ff0d4ba0cd41a1a08b33175e476d4f83a43c41b
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 14 Aug 2025 16:30:36 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '492'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - d7e1a435-0cd0-4274-9a58-9899c1f01431
      X-Amzn-Bedrock-Invocation-Latency:
      - '2340'
      X-Amzn-Bedrock-Cache-Write-Input-Token-Count:
      - '5612'
      X-Amzn-Bedrock-Cache-Read-Input-Token-Count:
      - '2902'
      X-Amzn-Bedrock-Output-Token-Count:
      - '54'
      X-Amzn-Bedrock-Input-Token-Count:
      - '4'
    body:
      encoding: UTF-8
      string: '{"id":"msg_bdrk_01RQ1dXhJCRzFJymM59YyfLe","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"I''ll
        help you get information about Ruby development by using the available tool."},{"type":"tool_use","id":"toolu_bdrk_01GdWT6NQcLBHd2uhMfiZWXH","name":"describe_ruby_dev","input":{}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":5612,"cache_read_input_tokens":2902,"output_tokens":54}}'
  recorded_at: Thu, 14 Aug 2025 16:30:36 GMT
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":[{"type":"text","text":"<MASSIVE_TEXT_FOR_PROMPT_CACHING>\n\nBased
        on the above, tell me about Ruby"}]},{"role":"assistant","content":[{"type":"text","text":"I''ll
        help you get information about Ruby development by using the available tool."},{"type":"tool_use","id":"toolu_bdrk_01GdWT6NQcLBHd2uhMfiZWXH","name":"describe_ruby_dev","input":{}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_bdrk_01GdWT6NQcLBHd2uhMfiZWXH","content":"Ruby
        is a great language for building web applications."}]}],"max_tokens":4096,"tools":[{"name":"describe_ruby_dev","description":"<MASSIVE_TEXT_FOR_PROMPT_CACHING>","input_schema":{"type":"object","properties":{},"required":[]},"cache_control":{"type":"ephemeral"}}],"system":[{"type":"text","text":"<MASSIVE_TEXT_FOR_PROMPT_CACHING>","cache_control":{"type":"ephemeral"}}],"temperature":0.7}'
    headers:
      User-Agent:
      - Faraday v2.13.1
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20250814T163036Z
      X-Amz-Security-Token:
      - "<AWS_SESSION_TOKEN>"
      X-Amz-Content-Sha256:
      - 89c2f0e94fa48d99647af0b714fcef903c5a1613003cb736e9dfd55838470744
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250814/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date;x-amz-security-token, Signature=98251464b577738328efa3d551a410b2507df5c91294ff6f9945f63c14661e8b
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 14 Aug 2025 16:30:41 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '1448'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - c728c6d9-2860-4e9b-a32f-0087597ad0d0
      X-Amzn-Bedrock-Invocation-Latency:
      - '5178'
      X-Amzn-Bedrock-Cache-Write-Input-Token-Count:
      - '0'
      X-Amzn-Bedrock-Cache-Read-Input-Token-Count:
      - '5639'
      X-Amzn-Bedrock-Output-Token-Count:
      - '263'
      X-Amzn-Bedrock-Input-Token-Count:
      - '2953'
    body:
      encoding: UTF-8
      string: '{"id":"msg_bdrk_01E39r7wzTxKySur92U4XSPp","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"Ruby
        is a dynamic, object-oriented programming language known for its simplicity
        and readability. Here are some key points about Ruby:\n\n1. Language Characteristics:\n-
        Created by Yukihiro Matsumoto (Matz) in 1995\n- Designed to be programmer-friendly
        and productive\n- Follows the principle of \"developer happiness\"\n\n2. Web
        Development:\n- Particularly popular for web development through the Ruby
        on Rails framework\n- Rails follows the Model-View-Controller (MVC) architectural
        pattern\n- Known for rapid application development and convention over configuration\n\n3.
        Key Features:\n- Dynamic typing\n- Garbage collection\n- Support for functional
        programming paradigms\n- Extensive standard library\n- Strong metaprogramming
        capabilities\n\n4. Common Use Cases:\n- Web applications\n- Scripting\n- Automation\n-
        Prototyping\n- DevOps tools\n\n5. Popular Frameworks and Tools:\n- Ruby on
        Rails\n- Sinatra (lightweight web framework)\n- RSpec (testing)\n- Bundler
        (dependency management)\n\nRuby''s elegant syntax and powerful ecosystem make
        it a favorite among developers who value clean, maintainable code and rapid
        development."}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":2953,"cache_creation_input_tokens":0,"cache_read_input_tokens":5639,"output_tokens":263}}'
  recorded_at: Thu, 14 Aug 2025 16:30:41 GMT
recorded_with: VCR 6.3.1
